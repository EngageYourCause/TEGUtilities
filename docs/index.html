<!--
  ~ Copyright (c) 2020. The Production Management Group, Ltd.
-->
<!DOCTYPE html>
<!--suppress JSUnresolvedLibraryURL -->
<html lang="en">
<head>
	<title>TEG Utilities</title>
	<meta charset="UTF-8" />
	<meta name="keywords" content="javascript, library, quiz, trivia, form" />
	<meta name="description" content="Creates additional HTML structure and adds functionality to fake pagination of a single page's content." />
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />
	<style>
		body {
			background: white;
			margin: 0 auto;
			max-width: 60rem;
		}

		td,
		th {
			padding: 4pt;
			vertical-align: top;
		}

		pre {
			font-size: smaller;
			max-width: 800px;
			overflow: auto;
		}

		td[colspan] > pre.prettyprint.lang-javascript.prettyprinted {
			max-width: 100%;
		}

		td > pre.prettyprint.lang-javascript.prettyprinted {
			max-width: 20rem;
			padding: .5rem;
		}

		tr:nth-child(odd) {
			background: lightgray;
		}

		tr:nth-child(odd) td[colspan] {
			background: white;
		}

		dt {
			margin-top: 10pt;
		}

		.emphasis,
		.emphasis .pun {
			background: gray;
			color: yellow;
		}

		/* placeholder selectors for IDE convenience */
		.prettyprint, .lang-javascript, .lang-html {
			/* no actual styles, just used  to trigger autocomplete in my IDE */
		}
	</style>
	<script src="https://cdn.jsdelivr.net/gh/google/code-prettify@master/loader/run_prettify.js"></script>
</head>
<body>
<h1>TEG Utilities</h1>
<p>A collection of useful code. Rather than load bloated jQuery libraries, I created a bloated library of my own.</p>
<h2>Requires</h2>
<ul>
	<li><a href="https://www.w3schools.com/Js/js_es6.asp">ECMAScript 6 compliant environment</a></li>
</ul>
<h2>Provided</h2>
<dl>
	<dt><a href="../src/TEGUtilities.js">TEGUtilities.js</a></dt>
</dl>
<h2>Installation</h2>
<p>Link the JavaScript in the <code class="prettyprint lang-javascript">&lt;head&gt;</code> element of the page.</p>
<pre class="prettyprint lang-html">
  &lt;script src="https://foo.bar.com/path/to/files/TEGUtilities.js" type="text/javascript">&lt;/script>
</pre>
<p>Create a new <code class="prettyprint lang-javascript">TEGUtilties</code> object in a
	<code class="prettyprint lang-javascript">&lt;script></code> element or external JavaScript file.
</p>
<pre class="prettyprint lang-javascript">
  window.tu = new TEGUtilities();
</pre>
<h2>Methods</h2>
<dl>
	<dt id="between"><code class="prettyprint lang-javascript">between( [<em>value</em>, <em>minimum</em>, <em>maximum</em>] )</code></dt>
	<dd>
		<p>Returns <code class="prettyprint lang-javascript">true</code> if <code class="prettyprint lang-javascript">value</code> is strictly between
			<code class="prettyprint lang-javascript">minimum</code> and <code class="prettyprint lang-javascript">maximum</code>.
		</p>
		<table>
			<thead>
			<tr>
				<th>
					Parameter
				</th>
				<th>
					Type
				</th>
				<th>
					Default
				</th>
				<th>
					Description
				</th>
			</tr>
			</thead>
			<tbody>
			<tr>
				<td><code class="prettyprint lang-javascript">value</code></td>
				<td>Number</td>
				<td><code class="prettyprint lang-javascript">0</code></td>
				<td>The value to be compared.</td>
			</tr>
			<tr>
				<td><code class="prettyprint lang-javascript">minimum</code></td>
				<td>Number</td>
				<td><code class="prettyprint lang-javascript">0</code></td>
				<td>The minimum value of the acceptable range. <code class="prettyprint lang-javascript">value</code> must be larger than
					<code class="prettyprint lang-javascript">minimum</code>.
				</td>
			</tr>
			<tr>
				<td><code class="prettyprint lang-javascript">maximum</code></td>
				<td>Number</td>
				<td><code class="prettyprint lang-javascript">0</code></td>
				<td>The maximum value of the acceptable range. <code class="prettyprint lang-javascript">value</code> must be smaller than
					<code class="prettyprint lang-javascript">maximum</code>.
				</td>
			</tr>
			</tbody>
		</table>
	</dd>
	<dt id="betweeninclude"><code class="prettyprint lang-javascript">betweenInclude( [<em>value</em>, <em>minimum</em>, <em>maximum</em>, <em>include</em>] )</code></dt>
	<dd>
		<p>Returns <code class="prettyprint lang-javascript">true</code> if <code class="prettyprint lang-javascript">value</code> is between
			<code class="prettyprint lang-javascript">minimum</code> and <code class="prettyprint lang-javascript">maximum</code>. The
			<code class="prettyprint lang-javascript">include</code> parameter determines if the
			<code class="prettyprint lang-javascript">minimum</code> and <code class="prettyprint lang-javascript">maximum</code> values are included in the acceptable range.
		</p>
		<p>The parameters are heavily bullet-proofed, just for fun. Everything has a default and the <code class="prettyprint lang-javascript">minimum</code> and
			<code class="prettyprint lang-javascript">maximum</code> values will be swapped, if necessary. As a result, all the parameters are optional, which is kind of useless, but at least it won&rsquo;t crash.
		</p>
		<table>
			<thead>
			<tr>
				<th>
					Parameter
				</th>
				<th>
					Type
				</th>
				<th>
					Default
				</th>
				<th>
					Description
				</th>
			</tr>
			</thead>
			<tbody>
			<tr>
				<td><code class="prettyprint lang-javascript">value</code></td>
				<td>Number</td>
				<td><code class="prettyprint lang-javascript">0</code></td>
				<td>The value to be compared.</td>
			</tr>
			<tr>
				<td><code class="prettyprint lang-javascript">minimum</code></td>
				<td>Number</td>
				<td><code class="prettyprint lang-javascript">0</code></td>
				<td>The minimum value of the acceptable range.</td>
			</tr>
			<tr>
				<td><code class="prettyprint lang-javascript">maximum</code></td>
				<td>Number</td>
				<td><code class="prettyprint lang-javascript">0</code></td>
				<td>The maximum value of the acceptable range.</td>
			</tr>
			<tr>
				<td><code class="prettyprint lang-javascript">include</code></td>
				<td>Number</td>
				<td><code class="prettyprint lang-javascript">TEGUtilities.BTWN_INCL_NONE</code>&nbsp;(<code class="prettyprint lang-javascript">0</code>)</td>
				<td>Indicates which, if either, of the limit values should be included in the acceptable range. See <a href="#constants">Constants</a> below.</td>
			</tr>
			</tbody>
		</table>
	</dd>
	<dt><code class="prettyprint lang-javascript">debounce( <em>originalFunction</em>, <em>timout</em>[, <em>otherArgs</em>] )</code></dt>
	<dd>
		<p>Returns a debounced function which is prevented from running more than once in <code class="prettyprint lang-javascript">timout</code> milliseconds.</p>
		<table>
			<thead>
			<tr>
				<th>
					Parameter
				</th>
				<th>
					Type
				</th>
				<th>
					Required
				</th>
				<th>
					Description
				</th>
			</tr>
			</thead>
			<tbody>
			<tr>
				<td><code class="prettyprint lang-javascript">originalFunction</code></td>
				<td>Function</td>
				<td>Required</td>
				<td>The function to debounce.</td>
			</tr>
			<tr>
				<td><code class="prettyprint lang-javascript">timeout</code></td>
				<td>Number</td>
				<td>Required</td>
				<td>The number of milliseconds to wait before allowing <code class="prettyprint lang-javascript">originalFunction</code> to run again.</td>
			</tr>
			<tr>
				<td><code class="prettyprint lang-javascript">otherArgs</code></td>
				<td>Array</td>
				<td>Optional</td>
				<td>An array of values passed to <code class="prettyprint lang-javascript">originalFunction</code> as parameters.</td>
			</tr>
			</tbody>
		</table>
	</dd>
	<dt><code class="prettyprint lang-javascript">throttle( <em>originalFunction</em>, <em>timout</em>[, <em>otherArgs</em>] )</code></dt>
	<dd>
		<p>Returns a throttled function which will run once and then not again for <code class="prettyprint lang-javascript">timout</code> milliseconds.</p>
		<table>
			<thead>
			<tr>
				<th>
					Parameter
				</th>
				<th>
					Type
				</th>
				<th>
					Required
				</th>
				<th>
					Description
				</th>
			</tr>
			</thead>
			<tbody>
			<tr>
				<td><code class="prettyprint lang-javascript">originalFunction</code></td>
				<td>Function</td>
				<td>Required</td>
				<td>The function to throttle.</td>
			</tr>
			<tr>
				<td><code class="prettyprint lang-javascript">timeout</code></td>
				<td>Number</td>
				<td>Required</td>
				<td>The number of milliseconds to wait before allowing <code class="prettyprint lang-javascript">originalFunction</code> to run again.</td>
			</tr>
			<tr>
				<td><code class="prettyprint lang-javascript">otherArgs</code></td>
				<td>Array</td>
				<td>Optional</td>
				<td>An array of values passed to <code class="prettyprint lang-javascript">originalFunction</code> as parameters.</td>
			</tr>
			</tbody>
		</table>
	</dd>
	<dt><code class="prettyprint lang-javascript">preloadImages( <em>imageURL</em>[, <em>imageURL</em>, &hellip;] )</code></dt>
	<dd>Takes one or more URLs and loads them into
		<code class="prettyprint lang-javascript">img</code> elements to force the browser to load the files in the background for faster display in an active interface.
	</dd>
	<dt><code class="prettyprint lang-javascript">addCMSLandmarks( [<em>['array', 'of', 'valid', 'values']</em>] )</code></dt>
	<dd>
		<p>Scans the DOM for elements with a class name beginning with <code class="prettyprint lang-javascript">aria-landmark-</code> and
			<code class="prettyprint lang-javascript">aria-label-</code>.
		</p>
		<p>For
			<code class="prettyprint lang-javascript">aria-landmark-</code>, the prefix is stripped and the resulting string is set as the value of a new
			<code class="prettyprint lang-javascript">role</code> attribute, unless that attribute is already present. Any Content Management System (CMS) will generate its own HTML. It should also allow the user to set additional class names. This feature allows the developer to leverage class names to programmatically add
			<code class="prettyprint lang-javascript">role</code> attributes as needed.
		</p>
		<p>If an element with an <code class="prettyprint lang-javascript">aria-landmark-</code> class name also has a class name with the prefix
			<code class="prettyprint lang-javascript">aria-label-</code>, then an
			<code class="prettyprint lang-javascript">aria-label</code> attribute will be added with the value provided. The label value will be altered to replace dash and underscore characters with spaces.
		</p>
		<table>
			<thead>
			<tr>
				<th>
					Parameter
				</th>
				<th>
					Type
				</th>
				<th>
					Default
				</th>
				<th>
					Description
				</th>
			</tr>
			</thead>
			<tbody>
			<tr>
				<td><code class="prettyprint lang-javascript">allowed</code></td>
				<td>Array of Strings</td>
				<td><code class="prettyprint lang-javascript">['banner',
					'complementary',
					'contentinfo',
					'form',
					'main',
					'navigation',
					'region',
					'search',
					'alert',
					'log',
					'marquee',
					'status',
					'timer']</code>
				</td>
				<td>List of allowed ARIA landmarks.</td>
			</tr>
			</tbody>
		</table>
		<h3>Example:</h3>
		<p>The function will change the following:</p>
		<pre class="prettyprint lang-javascript">
  &lt;div class=&quot;foo aria-landmark-region aria-label-my-region&quot;>...&lt;/div>
  &lt;div class=&quot;bar aria-landmark-search&quot; role=&quot;banner&quot;>...&lt;/div>
  &lt;div class=&quot;bar aria-label-fubar&quot;>...&lt;/div>
</pre>
		<p>. . .to this:</p>
		<pre class="prettyprint lang-javascript">
  &lt;div class=&quot;foo aria-landmark-region aria-label-my-region&quot; role=&quot;region&quot; aria-label=&quot;my region&quot;>...&lt;/div>
  &lt;div class=&quot;bar aria-landmark-search&quot; role=&quot;banner&quot;>...&lt;/div>
  &lt;div class=&quot;bar aria-label-fubar&quot;>...&lt;/div>
</pre>
		<p>The first <code class="prettyprint lang-javascript">div</code> is updated with a role specified by
			<code class="prettyprint lang-javascript">aria-landmark-region</code> and an
			<code class="prettyprint lang-javascript">aria-label</code> attribute specified by <code class="prettyprint lang-javascript">aria-label-my-region</code>. The second
			<code class="prettyprint lang-javascript">div</code> is not modified since the <code class="prettyprint lang-javascript">role</code> attribute already exists. Multiple,
			<code class="prettyprint lang-javascript">aria-landmark-</code> classes are ignored. The third <code class="prettyprint lang-javascript">div</code> is unchanged as it doesn&rsquo;t have a class name with the
			<code class="prettyprint lang-javascript">aria-landmark-</code> prefix.
		</p>
		<p>See <a href="https://www.w3.org/WAI/GL/wiki/Using_ARIA_landmarks_to_identify_regions_of_a_page">W3C: Using ARIA landmarks to identify regions of a page</a>.</p>
	</dd>
</dl>
<h2 id="constants">Constants</h2>
<p>All four constants are convenience values for the <code class="prettyprint lang-javascript">include</code> parameter of the
	<a href="#betweeninclude"><code class="prettyprint lang-javascript">betweenInclude()</code></a> method above.
</p>
<table>
	<thead>
	<tr>
		<th>Constant</th>
		<th>Value</th>
		<th>Description</th>
	</tr>
	</thead>
	<tbody>
	<tr>
		<td><code class="prettyprint lang-javascript">TEGUtilities.BTWN_INCL_NONE</code></td>
		<td><code class="prettyprint lang-javascript">0</code></td>
		<td>Indicates that the acceptable range excludes the minimum and maximum values.</td>
	</tr>
	<tr>
		<td><code class="prettyprint lang-javascript">TEGUtilities.BTWN_INCL_LOWER</code></td>
		<td><code class="prettyprint lang-javascript">1</code></td>
		<td>Indicates that the acceptable range includes the minimum value.</td>
	</tr>
	<tr>
		<td><code class="prettyprint lang-javascript">TEGUtilities.BTWN_INCL_HIGHER</code></td>
		<td><code class="prettyprint lang-javascript">2</code></td>
		<td>Indicates that the acceptable range includes the maximum value.</td>
	</tr>
	<tr>
		<td><code class="prettyprint lang-javascript">TEGUtilities.BTWN_INCL_BOTH</code></td>
		<td><code class="prettyprint lang-javascript">3</code></td>
		<td>Indicates that the acceptable range includes the minimum and maximum values.</td>
	</tr>
	</tbody>
</table>
<h2>Objects</h2>
<h3 id="windowsize">windowSize</h3>
<p>Provides easy window size detection.</p>
<h4 id="windowsizeinitialization">windowSize Initialization</h4>
<p>Initialize the <code class="prettyprint lang-javascript">windowSize</code> object with a call to <code class="prettyprint lang-javascript">init({options. . . })</code> in a
	<code class="prettyprint lang-html">&lt;script></code> element or
	<code class="prettyprint lang-javascript">.js</code> file. See
	<code class="prettyprint lang-javascript"><a href="#windowsizeoptions">options</a></code> below.
</p>
<pre class="prettyprint lang-javascript">
&lt;!-- This is the initialization script from test/windowSizeExample.html -->
&lt;script>
  var tu = new TEGUtilities();
  tu.windowSize.init({
                    afterWindowSize : function() {
                      document.querySelector('#isSmall').textContent = tu.windowSize.isSmall;
                      document.querySelector('#isMedium').textContent = tu.windowSize.isMedium;
                      document.querySelector('#isLarge').textContent = tu.windowSize.isLarge;
                      document.querySelector('#isLarger').textContent = tu.windowSize.isLarger;
                      document.querySelector('#isTall').textContent = tu.windowSize.isTall;
                    }
                  });
  /* windowSize doesn't attach itself to the window.onresize listener
   * because of possible conflicts with whatever app is using it.
   * There's also some context issues that may arise. When attaching,
   * it's best to use the throttle method (see below) so you don't use
   * too many resources.
   */
  window.onresize = tu.throttle(tu.windowsizeupdate, 300);
&lt;/script>
</pre>
<h3 id="windowsizeproperties">windowSize Properties</h3>
<p>See the
	<a href="#inclusive"><code class="prettyprint lang-javascript">inclusive</code></a> option below.
</p>
<dl>
	<dt id="issmall"><code class="prettyprint lang-javascript">isSmall</code></dt>
	<dd><code class="prettyprint lang-javascript">true</code> if the viewing window is smaller than or equal to
		<a href="#smallmaxwidth"><code class="prettyprint lang-javascript">windowSize.options.smallMaxWidth</code></a>.
	</dd>
	<dt id="ismedium"><code class="prettyprint lang-javascript">isMedium</code></dt>
	<dd><code class="prettyprint lang-javascript">true</code> if the viewing window width is between
		<a href="#smallmaxwidth"><code class="prettyprint lang-javascript">windowSize.options.smallMaxWidth</code></a> and
		<a href="#mediummaxwidth"><code class="prettyprint lang-javascript">windowSize.options.mediumMaxWidth</code></a>.
	</dd>
	<dt id="islarge"><code class="prettyprint lang-javascript">isLarge</code></dt>
	<dd><code class="prettyprint lang-javascript">true</code> if the viewing window width is between
		<a href="#mediummaxwidth"><code class="prettyprint lang-javascript">windowSize.options.mediumMaxWidth</code></a> and
		<a href="#largemaxwidth"><code class="prettyprint lang-javascript">windowSize.options.largeMaxWidth</code></a>.
	</dd>
	<dt id="islarger"><code class="prettyprint lang-javascript">isLarger</code></dt>
	<dd><code class="prettyprint lang-javascript">true</code> if the viewing window is larger than
		<a href="#largemaxwidth"><code class="prettyprint lang-javascript">windowSize.options.largeMaxWidth</code></a>. This comparison is not affected by the
		<a href="#inclusive"><code class="prettyprint lang-javascript">inclusive</code></a> option above as there is only the &ldquo;smaller&rdquo; value to compare against.
	</dd>
	<dt id="istall"><code class="prettyprint lang-javascript">isTall</code></dt>
	<dd><code class="prettyprint lang-javascript">true</code> if the viewing window is taller than
		<a href="#tallminheight"><code class="prettyprint lang-javascript">windowSize.options.tallMinHeight</code></a>.
	</dd>
</dl>
<h3 id="windowsizemethods">windowSize Methods</h3>
<dl>
	<dt id="windowsizeinit"><code class="prettyprint lang-javascript">init( [<em>options</em>] )</code></dt>
	<dd>
		<p>Initializes the windowSize object. See <a href="#windowsizeinitialization">windowSize Initialization</a> above.</p>
		<table>
			<thead>
			<tr>
				<th>
					Parameter
				</th>
				<th>
					Type
				</th>
				<th>
					Default
				</th>
				<th>
					Description
				</th>
			</tr>
			</thead>
			<tbody>
			<tr>
				<td>options</td>
				<td>Collection</td>
				<td>
<pre class="prettyprint lang-javascript">
  {
	smallMaxWidth  : 740,
	mediumMaxWidth : 1024,
	largeMaxWidth  : 2048,
	tallMinHeight  : 820,
	inclusive      : true, // should the window size comparisons include the break points?

	// allow customizable callback
	afterWindowSize : function() {

		if (console) {
			console.log('The default TEGUtilities.windowSize.afterWindowSize() method does nothing.');
		} // end log
		return false;
	},
  }
</pre>
				</td>
				<td>A collection of values used to configure the view pane size breakpoints. See
					<a href="#windowsizeoptions"><code class="prettyprint lang-javascript">Options</code></a> below.
				</td>
			</tr>
			</tbody>
		</table>
		<h4 id="windowsizeoptions">Options</h4>
		<p>The <code class="prettyprint lang-javascript">options</code> parameter is a set of values to determine what view port sizes fit in to which of the categories defined is
			<a href="#windowsizeproperties"><code class="prettyprint lang-javascript">Properties</code></a> above.
		</p>
		<table>
			<thead>
			<tr>
				<th>
					Option
				</th>
				<th>
					Type
				</th>
				<th>
					Default
				</th>
				<th>
					Description
				</th>
			</tr>
			</thead>
			<tbody>
			<tr>
				<td id="smallmaxwidth"><code class="prettyprint lang-javascript">smallMaxWidth</code></td>
				<td>Number</td>
				<td><code class="prettyprint lang-javascript">740</code></td>
				<td>Maximum width in pixels of a &quot;small&quot; screen like a smartphone or tablet in portrait orientation.</td>
			</tr>
			<tr>
				<td id="mediummaxwidth"><code class="prettyprint lang-javascript">mediumMaxWidth</code></td>
				<td>Number</td>
				<td><code class="prettyprint lang-javascript">1024</code></td>
				<td>Maximum width in pixels of a &quot;medium&quot; screen like a tablet in landscape orientation.</td>
			</tr>
			<tr>
				<td id="largemaxwidth"><code class="prettyprint lang-javascript">largeMaxWidth</code></td>
				<td>Number</td>
				<td><code class="prettyprint lang-javascript">1024</code></td>
				<td>Maximum width in pixels of a &quot;large&quot; screen like a desktop computer screen.</td>
			</tr>
			<tr>
				<td id="tallminheight"><code class="prettyprint lang-javascript">tallMinHeight</code></td>
				<td>Number</td>
				<td><code class="prettyprint lang-javascript">1024</code></td>
				<td>Minimum height in pixels of a &quot;tall&quot; screen like a desktop computer screen in portrait view.</td>
			</tr>
			<tr>
				<td id="inclusive"><code class="prettyprint lang-javascript">inclusive</code></td>
				<td>Boolean</td>
				<td><code class="prettyprint lang-javascript">true</code></td>
				<td>
					<p>Whether the break points above should be included in the size comparison. If
						<code class="prettyprint lang-javascript">true</code>, the larger number will be included in the accepted range of sizes:
					</p>
					<pre class="prettyprint lang-javascript">
// this is not actual code used
if (inclusive) {
  return minimum > size &&
         size <span class="emphasis"><=</span> maximum;

} else {
  return minimum > size &&
         size <span class="emphasis"><</span> maximum;
}
</pre>
					<p>See the method <a href="#betweeninclude"><code class="prettyprint lang-javascript">betweenInclude()</code></a> above.</p>
				</td>
			</tr>
			<tr>
				<td id="afterwindowsize"><code class="prettyprint lang-javascript">afterWindowSize()</code></td>
				<td>Function</td>
				<td>
<pre class="prettyprint lang-javascript">
function() {

  if (console) {
    console.log('The default TEGUtilities.windowSize.afterWindowSize() method does nothing.');
  } // end log
  return false;
}
</pre>
				</td>
				<td>Code to run after the window size is recalculated by the <a href="#windowsizeupdate"><code class="prettyprint lang-javascript">update</code></a> method below.</td>
			</tr>
			</tbody>
		</table>
	</dd>
	<dt id="windowsizeupdate"><code class="prettyprint lang-javascript">update()</code></dt>
	<dd>
		<p>Updates the window size flags. Designed to be run as the <code class="prettyprint lang-javascript">window.onresize</code> event handler. See
			<a href="#windowsizeproperties">windowSize Properties</a> above.
		</p>
	</dd>
</dl>
</body>
</html>
